<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>ë‹¨ì„¸ ë¼ì´ë“œ ì¸í¬ê·¸ë˜í”½</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <style>
:root{
  --bg:#0b1220;
  --card:#121b2f;
  --muted:#93a4c7;
  --text:#e9efff;
  --accent:#5eead4;
  --accent2:#60a5fa;
  --shadow: 0 12px 30px rgba(0,0,0,.25);
  --radius:18px;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans KR", Apple SD Gothic Neo, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  background: radial-gradient(1200px 700px at 20% 0%, rgba(96,165,250,.20), transparent 60%),
              radial-gradient(1200px 700px at 80% 10%, rgba(94,234,212,.16), transparent 55%),
              var(--bg);
  color:var(--text);
}
a{color:var(--accent); text-decoration:none}
a:hover{text-decoration:underline}
.container{max-width:1200px; margin:0 auto; padding:28px 18px 40px}
.header{
  display:flex; flex-wrap:wrap; align-items:flex-end; justify-content:space-between; gap:10px;
  margin-bottom:18px;
}
.title{
  font-size:28px; font-weight:800; letter-spacing:-.02em; margin:0;
}
.subtitle{
  margin:6px 0 0; color:var(--muted); font-size:14px;
}
.badges{display:flex; gap:8px; flex-wrap:wrap}
.badge{
  padding:6px 10px; border:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.05); border-radius:999px; color:var(--muted); font-size:12px;
}
.grid{
  display:grid;
  grid-template-columns: repeat(12, 1fr);
  gap:14px;
}
.card{
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  border:1px solid rgba(255,255,255,.08);
  border-radius:var(--radius);
  padding:14px 14px 12px;
  box-shadow: var(--shadow);
  overflow:hidden;
}
.card h3{
  margin:0 0 10px;
  font-size:14px; letter-spacing:.02em;
  color:rgba(233,239,255,.92);
  display:flex; align-items:center; justify-content:space-between;
}
.kpi{
  display:flex; flex-direction:column; gap:6px;
}
.kpi .value{
  font-size:26px; font-weight:800; line-height:1.1;
}
.kpi .hint{color:var(--muted); font-size:12px}
.small{color:var(--muted); font-size:12px}
.span-3{grid-column: span 3;}
.span-4{grid-column: span 4;}
.span-5{grid-column: span 5;}
.span-6{grid-column: span 6;}
.span-7{grid-column: span 7;}
.span-8{grid-column: span 8;}
.span-12{grid-column: span 12;}
@media (max-width: 980px){
  .span-3,.span-4,.span-5,.span-6,.span-7,.span-8{grid-column: span 12;}
  .title{font-size:24px}
}
.canvas-wrap{height:260px}
.canvas-wrap.tall{height:320px}
table{width:100%; border-collapse:collapse}
th,td{padding:10px 8px; border-bottom:1px solid rgba(255,255,255,.08); font-size:13px}
th{color:var(--muted); font-weight:600; text-align:left}
tr:hover{background:rgba(255,255,255,.04)}
.footer{margin-top:16px; color:var(--muted); font-size:12px; text-align:center}
.note{
  color:var(--muted);
  font-size:12px;
  margin:10px 0 0;
}
</style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div>
        <h1 class="title">ë‹¨ì„¸ ë¼ì´ë“œ ì¸í¬ê·¸ë˜í”½</h1>
        <p class="subtitle">CSV ë°ì´í„°(ë¼ì´ë“œ ëª©ë¡)ë¥¼ ìë™ ë¶„ì„í•´ ë§Œë“  ëŒ€ì‹œë³´ë“œ Â· ë¸Œë¼ìš°ì €ì—ì„œ ë‹¨ì¼ HTMLë¡œ ì—´ ìˆ˜ ìˆì–´ìš”.</p>
      </div>
      <div class="badges">
        <span class="badge">ì´ 234ê±´</span>
        <span class="badge">2023-07-04 â†’ 2025-12-14</span>
        <span class="badge">ì—…ë°ì´íŠ¸: 2025-12-16 06:52</span>
      </div>
    </div>

    <div class="grid">
      <div class="card span-3" id="k_total">
        <h3>ì´ ë¼ì´ë“œ</h3>
        <div class="kpi"><div class="value">-</div><div class="hint">-</div></div>
      </div>
      <div class="card span-3" id="k_weekday">
        <h3>ìµœë‹¤ ìš”ì¼</h3>
        <div class="kpi"><div class="value">-</div><div class="hint">-</div></div>
      </div>
      <div class="card span-3" id="k_time">
        <h3>ìµœë‹¤ ì¶œë°œ ì‹œê°„ëŒ€</h3>
        <div class="kpi"><div class="value">-</div><div class="hint">-</div></div>
      </div>
      <div class="card span-3" id="k_tag">
        <h3>ìµœë‹¤ íƒœê·¸</h3>
        <div class="kpi"><div class="value">-</div><div class="hint">-</div></div>
      </div>

      <div class="card span-6">
        <h3>ì—°ë„ë³„ ë¼ì´ë“œ ìˆ˜</h3>
        <div class="canvas-wrap"><canvas id="c_year"></canvas></div>
      </div>
      <div class="card span-6">
        <h3>ì›”ë³„ ë¼ì´ë“œ ìˆ˜ (ì¶”ì´)</h3>
        <div class="canvas-wrap"><canvas id="c_month"></canvas></div>
      </div>

      <div class="card span-6">
        <h3>ìš”ì¼ ë¶„í¬</h3>
        <div class="canvas-wrap"><canvas id="c_weekday"></canvas></div>
      </div>
      <div class="card span-6">
        <h3>íƒœê·¸ ë¶„í¬ (ìƒìœ„)</h3>
        <div class="canvas-wrap"><canvas id="c_tag"></canvas></div>
        <div class="note">â€» íƒœê·¸ê°€ ë¹„ì–´ìˆëŠ” í•­ëª©ì€ â€˜ë¯¸ì§€ì •â€™ìœ¼ë¡œ ì§‘ê³„</div>
      </div>

      <div class="card span-7">
        <h3>ì¶œë°œ ì‹œê°„ëŒ€ ë¶„í¬</h3>
        <div class="canvas-wrap tall"><canvas id="c_time"></canvas></div>
        <div class="note">â€» ì‹œê°„ ì»¬ëŸ¼ì´ ë¹„ì–´ìˆëŠ” í•­ëª©ì€ ì œì™¸</div>
      </div>

      <div class="card span-5" id="distanceCard">
        <h3>ì œëª©ì—ì„œ ì¶”ì¶œí•œ ê±°ë¦¬ ë¶„í¬</h3>
        <div class="kpi" id="k_dist" style="margin-bottom:10px;">
          <div class="value">-</div>
          <div class="hint">-</div>
        </div>
        <div class="canvas-wrap"><canvas id="c_dist"></canvas></div>
        <div class="note" id="distNote"></div>
      </div>

      <div class="card span-12">
        <h3>ìµœê·¼ ë¼ì´ë“œ 10ê±´</h3>
        <table>
          <thead><tr><th style="width:160px;">ì¼ì‹œ</th><th>ì œëª©</th><th style="width:120px;">íƒœê·¸</th></tr></thead>
          <tbody id="recentBody"></tbody>
        </table>
      </div>
    </div>

    <div class="footer">Â© ìë™ ìƒì„± Â· ì›ë³¸ CSVì˜ â€œì œëª©/íƒœê·¸/ì‹œê°„â€ í‘œê¸° ë°©ì‹ì— ë”°ë¼ ì¼ë¶€ ì§€í‘œëŠ” í‘œë³¸ì´ ì¤„ì–´ë“¤ ìˆ˜ ìˆì–´ìš”.</div>
  </div>

  <script>window.__DATA__ = {"kpi": {"total": 234, "date_min": "2023-07-04", "date_max": "2025-12-14", "span_days": 894, "most_weekday": "Sunday", "most_weekday_count": 56, "peak_time_bin": "[5, 7)", "peak_time_count": 114, "top_tag": "ë¯¸ì§€ì •", "top_tag_count": 65, "avg_distance": 138.33333333333334, "median_distance": 132.0, "distance_count": 36}, "charts": {"year": {"labels": ["2023", "2024", "2025"], "values": [67, 105, 62]}, "month": {"labels": ["2023-07", "2023-08", "2023-09", "2023-10", "2023-11", "2023-12", "2024-01", "2024-02", "2024-03", "2024-04", "2024-05", "2024-06", "2024-07", "2024-08", "2024-09", "2024-10", "2024-11", "2024-12", "2025-01", "2025-02", "2025-03", "2025-04", "2025-05", "2025-06", "2025-07", "2025-08", "2025-09", "2025-10", "2025-11", "2025-12"], "values": [8, 22, 21, 10, 6, 0, 0, 7, 5, 15, 14, 18, 6, 7, 13, 10, 8, 2, 11, 4, 3, 3, 5, 5, 7, 7, 5, 0, 9, 3]}, "weekday": {"labels": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"], "values": [11, 33, 46, 37, 19, 32, 56]}, "tag": {"labels": ["ë¯¸ì§€ì •", "ìŠ¤í¬ì¸ íˆ¬ì–´", "ì¤‘ê¸‰", "ì´ˆì¤‘ê¸‰", "ê¸‰ë²™", "ì´ˆì¤‘ê¸‰+", "ìŠ¤í¬ì¸ íˆ¬ì–´,ì¤‘ê¸‰", "ì•³ë˜ë¼ì´ë“œ", "ê¸°íƒ€"], "values": [65, 14, 14, 10, 6, 5, 5, 4, 111]}, "time": {"labels": ["00:00â€“05:00", "05:00â€“07:00", "07:00â€“09:00", "09:00â€“11:00", "11:00â€“13:00", "13:00â€“15:00", "15:00â€“17:00", "17:00â€“19:00", "19:00â€“21:00", "21:00â€“24:00"], "values": [2, 114, 30, 17, 2, 6, 2, 2, 6, 1]}, "distance": {"labels": ["0â€“20km", "20â€“40km", "40â€“60km", "60â€“80km", "80â€“100km", "100â€“120km", "120â€“140km", "140â€“160km", "160â€“180km", "180â€“200km", "200â€“220km"], "values": [0, 0, 0, 4, 1, 7, 10, 2, 3, 4, 5], "count": 36}}, "recent": [{"date": "2025-12-14", "time": "", "title": "ë‚¨í•´ ì•„ì›ƒì‚¬ì´ë“œ", "link": "https://cafe.naver.com/clublara/26199", "tag": "ë¯¸ì§€ì •"}, {"date": "2025-12-10", "time": " 08:00", "title": "ë²„í„°í‚¹ë¹µê³µì¥ğŸ¥â˜•ï¸", "link": "https://cafe.naver.com/clublara/26182", "tag": "ì´ˆì¤‘ê¸‰"}, {"date": "2025-12-07", "time": "", "title": "ì•ˆë™í˜¸ 128K", "link": "https://cafe.naver.com/clublara/26167", "tag": "ë¯¸ì§€ì •"}, {"date": "2025-11-30", "time": "", "title": "ì €ìˆ˜ë ¹ 118K", "link": "https://cafe.naver.com/clublara/26105", "tag": "ë¯¸ì§€ì •"}, {"date": "2025-11-26", "time": " 07:00", "title": "íƒœìŒ, ì•„ë¼í•œê°•ê°‘ë¬¸ ì™•ë³µ 85K", "link": "https://cafe.naver.com/clublara/26101", "tag": "ì´ˆì¤‘ê¸‰"}, {"date": "2025-11-22", "time": " 07:00", "title": "íƒœìŒ, ë©§ë¼ì§€ ë°©êµ¬ë¿¡ğŸ—ğŸ’¨", "link": "https://cafe.naver.com/clublara/26049", "tag": "ì´ˆì¤‘ê¸‰"}, {"date": "2025-11-19", "time": "", "title": "ì§€ë¦¬ì‚° 109K", "link": "https://cafe.naver.com/clublara/25962", "tag": "ìŠ¤í¬ì¸ íˆ¬ì–´"}, {"date": "2025-11-15", "time": "", "title": "ì›”ì•…ì‚° 131K", "link": "https://cafe.naver.com/clublara/25951", "tag": "ìŠ¤í¬ì¸ íˆ¬ì–´"}, {"date": "2025-11-12", "time": " 06:00", "title": "íƒœìŒ, ë©§ë¼ì§€ 69K", "link": "https://cafe.naver.com/clublara/25955", "tag": "29-35"}, {"date": "2025-11-09", "time": "", "title": "ì•ˆí¥ì°ë¹µ 138K", "link": "https://cafe.naver.com/clublara/25856", "tag": "ìŠ¤í¬ì¸ íˆ¬ì–´"}]};</script>
  <script>
function fmt(n){ return new Intl.NumberFormat().format(n); }
const data = window.__DATA__;

function kpi(id, value, hint){
  document.getElementById(id).querySelector('.value').textContent = value;
  document.getElementById(id).querySelector('.hint').textContent = hint;
}

function buildRecent(){
  const tbody=document.getElementById('recentBody');
  tbody.innerHTML='';
  for(const r of data.recent){
    const tr=document.createElement('tr');
    tr.innerHTML = `
      <td>${r.date}${r.time?` <span class="small">(${r.time})</span>`:''}</td>
      <td><a href="${r.link}" target="_blank" rel="noopener">${escapeHtml(r.title)}</a></td>
      <td>${escapeHtml(r.tag)}</td>
    `;
    tbody.appendChild(tr);
  }
}

function escapeHtml(str){
  return String(str).replace(/[&<>"']/g, s => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[s]));
}

function chartBar(canvasId, labels, values, opts={}){
  const ctx=document.getElementById(canvasId);
  return new Chart(ctx,{
    type:'bar',
    data:{labels, datasets:[{label:opts.label||'ê±´ìˆ˜', data:values, borderWidth:1}]},
    options:{
      responsive:true,
      maintainAspectRatio:false,
      plugins:{legend:{display:false}, tooltip:{callbacks:{label:(c)=>` ${fmt(c.parsed.y)}ê±´`}}},
      scales:{
        x:{ticks:{color:'rgba(233,239,255,.75)'}, grid:{color:'rgba(255,255,255,.06)'}},
        y:{ticks:{color:'rgba(233,239,255,.75)'}, grid:{color:'rgba(255,255,255,.06)'}, beginAtZero:true}
      }
    }
  });
}

function chartLine(canvasId, labels, values){
  const ctx=document.getElementById(canvasId);
  return new Chart(ctx,{
    type:'line',
    data:{labels, datasets:[{label:'ì›”ë³„', data:values, tension:.3, fill:false, pointRadius:2}]},
    options:{
      responsive:true,
      maintainAspectRatio:false,
      plugins:{legend:{display:false}, tooltip:{callbacks:{label:(c)=>` ${fmt(c.parsed.y)}ê±´`}}},
      scales:{
        x:{ticks:{color:'rgba(233,239,255,.75)', maxRotation:0, autoSkip:true}, grid:{color:'rgba(255,255,255,.06)'}},
        y:{ticks:{color:'rgba(233,239,255,.75)'}, grid:{color:'rgba(255,255,255,.06)'}, beginAtZero:true}
      }
    }
  });
}

function chartDoughnut(canvasId, labels, values){
  const ctx=document.getElementById(canvasId);
  return new Chart(ctx,{
    type:'doughnut',
    data:{labels, datasets:[{data:values, borderWidth:1}]},
    options:{
      responsive:true,
      maintainAspectRatio:false,
      plugins:{
        legend:{position:'bottom', labels:{color:'rgba(233,239,255,.75)', boxWidth:12}},
        tooltip:{callbacks:{label:(c)=>` ${c.label}: ${fmt(c.parsed)}ê±´`}}
      }
    }
  });
}

function init(){
  const k=data.kpi;
  kpi('k_total', fmt(k.total), `ê¸°ê°„: ${k.date_min} ~ ${k.date_max} (${fmt(k.span_days)}ì¼)`);
  kpi('k_weekday', k.most_weekday, `ìµœë‹¤ ìš”ì¼: ${fmt(k.most_weekday_count)}ê±´`);
  kpi('k_time', k.peak_time_bin.replace('[','').replace(')',''), `ìµœë‹¤ ì‹œê°„ëŒ€: ${fmt(k.peak_time_count)}ê±´`);
  kpi('k_tag', k.top_tag, `ìµœë‹¤ íƒœê·¸: ${fmt(k.top_tag_count)}ê±´`);
  if(k.distance_count>0){
    const avg = k.avg_distance ? k.avg_distance.toFixed(1) : '-';
    const med = k.median_distance ? k.median_distance.toFixed(1) : '-';
    kpi('k_dist', `${avg}km`, `ê±°ë¦¬í‘œê¸° ${fmt(k.distance_count)}ê±´ Â· ì¤‘ì•™ê°’ ${med}km`);
    document.getElementById('distanceCard').style.display='block';
  }else{
    document.getElementById('distanceCard').style.display='none';
  }
  buildRecent();

  chartBar('c_year', data.charts.year.labels, data.charts.year.values);
  chartLine('c_month', data.charts.month.labels, data.charts.month.values);
  chartBar('c_weekday', data.charts.weekday.labels, data.charts.weekday.values);
  chartDoughnut('c_tag', data.charts.tag.labels, data.charts.tag.values);
  chartBar('c_time', data.charts.time.labels, data.charts.time.values, {label:'ì¶œë°œ ì‹œê°„'});
  if(data.charts.distance){
    chartBar('c_dist', data.charts.distance.labels, data.charts.distance.values, {label:'ê±°ë¦¬'});
    document.getElementById('distNote').textContent = `â€» ì œëª©ì— ê±°ë¦¬(K/km)ê°€ í¬í•¨ëœ ${fmt(data.charts.distance.count)}ê±´ë§Œ ì§‘ê³„`;
  }
}
document.addEventListener('DOMContentLoaded', init);
</script>
</body>
</html>
